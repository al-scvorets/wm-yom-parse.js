<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>wm-yom-parse.js by al-scvorets</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>wm-yom-parse.js</h1>
        <h2></h2>
        <a href="https://github.com/al-scvorets/wm-yom-parse.js" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="prehistory" class="anchor" href="#prehistory" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prehistory</h1>

<p><del>TL'DR This project emerged because of the stupid and lazy users</del><br>
The aim of the project was to organize some customers' data in simple and human-readable manner.<br>
Source data may be saved/edited in this format, but for visualization and other processing they have to be converted into Javascript objects.<br>
The situation is very similar to when the data in CSV format may be stored/edited separately from their pattern in a spreadsheet or database.<br>
But unlike CSV, which allows you to store tabular data, YOM is used to store data with hierarchical (tree-like) structures of arbitrary depth.<br>
Examples of such data are given below.  </p>

<p>"And where does the <del>stupid and lazy</del> users?"<br>
The fact that customers categorically refused to use XML (ah, it would be nice), and more over JSON (that would be perfect!)<br>
So I had to invent a new language for them: YOM.</p>

<h1>
<a id="yom-by-examples" class="anchor" href="#yom-by-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>YOM by Examples</h1>

<h2>
<a id="example-1" class="anchor" href="#example-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example #1</h2>

<pre><code>animals [cat, dog, elephant {big, gray}],
plants [deciduous   [oak, maple, baobab],
        other   [fir, cactus]
]
</code></pre>

<h2>
<a id="example-2" class="anchor" href="#example-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example #2</h2>

<pre><code>File [
    New, Open, Save,
    Remove {disabled}
    ],
View [
    Text [ANSI {default}, UTF-8],
    Binary,
    HTML
    ],
Help [On-line, Forum, About]
</code></pre>

<h2>
<a id="example-3" class="anchor" href="#example-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example #3</h2>

<pre><code>Header {height:10} [
    Welcome,
    Controls [Help Button, Search Pane]
    ],
Main [
    Teaser, News,
    Articles [1, 2, ..., N]
    ],
Footer [Status Bar [Info1, Info2], Powered By, Copyright notice {color: gold}]
</code></pre>

<h2>
<a id="and-example-4" class="anchor" href="#and-example-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>And Example #4</h2>

<pre><code>Prehistory [
    blah-blah-blah
    ]

YOM by Examples [
    Example /#1 [blah-blah]
    Example /#2 [blah-blah]
    Example /#3 [blah]
    ]

And so on...
</code></pre>

<h2>
<a id="i-hope-everything-is-clear-to-the-majority-for-others" class="anchor" href="#i-hope-everything-is-clear-to-the-majority-for-others" aria-hidden="true"><span class="octicon octicon-link"></span></a>I hope everything is clear to the majority. For others:</h2>

<h1>
<a id="semi-formal-definition" class="anchor" href="#semi-formal-definition" aria-hidden="true"><span class="octicon octicon-link"></span></a>(Semi-)Formal Definition</h1>

<ul>
<li>Items (nodes) are delimited by ',' (comma) or \n (line feed)</li>
<li>Node may have optional set of named attributes (in curly brackets)</li>
<li>Node may have optional set (array) of subnodes (in square brackets)</li>
</ul>

<p>That's all!</p>

<p>Ah, yeah...</p>

<ul>
<li>Whitespace at the beginning and end of a node's string is ignored.<br>
Empty lines are ignored too.<br>
Use '{}' or '[]' to make the "empty node"<br>
</li>
<li>'/' (slash) is used for escaping. So '/x' makes to treat 'x' literally (ex: '/,' --&gt; ',' , '//' --&gt; '/' etc.)<br>
It's to allow commas and brackets be in the text.</li>
<li>Each attribute is a pair of the name and optional value. The name is separated from the value (if any) by ':' (colon) or '=' (equals sign).<br>
If attribute has no an explicit value (ex. <code>{gray, big}</code>) then it is implicitly equal to <em>true</em>.<br>
Attributes are delimited by ',' (comma)</li>
<li>Special symbol '#' (number sign | hash sign | octothorpe (!?)) is reserved for the future use (yes, we'll have comments! and not only...). It MUST be escaped ('/#') everywhere for now</li>
<li>One of the symbols '\' | '+' | '-', or even all, will be used in the line end to make the line continuation.<br>
And it will be in some nearest build.</li>
</ul>

<h1>
<a id="whats-in-the-result" class="anchor" href="#whats-in-the-result" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's in the result</h1>

<p>YOM parse function returns the javascript object of the form:</p>

<pre><code>{
    label: "string",               // a text value of the node
    attr:  {a1: v1, a2: v2, ...},  // attributes of the node
    nodes: [{}, {}, ...]           // array of subnodes; each element is {label, attr, nodes} triplet;
                                   //   and so on, recursively
}
</code></pre>

<h1>
<a id="q--a" class="anchor" href="#q--a" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q &amp; A</h1>

<p><strong><em>Q:</em></strong> Why YOM? what it means?<br>
<strong><em>A:</em></strong> It means "hey you, do <strong>Y</strong>our <strong>O</strong>wn <strong>M</strong>odel|Markup|Markdown" I said one fine day  </p>

<p><strong><em>Q:</em></strong> Do you know that word 'Yom' has another <a href="http://en.wikipedia.org/wiki/Yom">meaning</a>?<br>
<strong><em>A:</em></strong> I realized it, but it was late. It's not by intention. It's just a coincidence. Really, I wrote YOM at night.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/al-scvorets/wm-yom-parse.js/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/al-scvorets/wm-yom-parse.js/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/al-scvorets/wm-yom-parse.js"></a> is maintained by <a href="https://github.com/al-scvorets">al-scvorets</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
