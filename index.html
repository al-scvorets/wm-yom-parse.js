<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>wm-yom-parse.js by al-scvorets</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>wm-yom-parse.js</h1>
        <h2></h2>
        <a href="https://github.com/al-scvorets/wm-yom-parse.js" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="purposes-of-yom-language" class="anchor" href="#purposes-of-yom-language" aria-hidden="true"><span class="octicon octicon-link"></span></a>Purposes of YOM language</h1>

<p>The aim of the YOM project is to organize some customers' data in simple and human-readable manner.<br>
Source data may be saved/edited in this format, but they have to be converted into <code>javascript objects</code> for visualization and other processing.<br>
The situation is very similar to when the data in CSV format may be stored/edited separately from their pattern in a spreadsheet or database.<br>
But unlike CSV, which allows you to store tabular data, YOM is used to store data with hierarchical (tree-like) structures of arbitrary depth.<br>
Examples of such data are given below.  </p>

<hr>

<p><strong>TL;DR</strong>  YOM solves about the same problem as the XML, but for those cases where the data is completely separated from the markup.<br>
In this case XML is redundant and less human-readable, since all nodes look like <code>&lt;node&gt; .... &lt;/node&gt;</code>  </p>

<h1>
<a id="yom-by-examples" class="anchor" href="#yom-by-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>YOM by Examples</h1>

<h2>
<a id="example-1-simple-taxonomy-tree" class="anchor" href="#example-1-simple-taxonomy-tree" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example #1 (simple taxonomy tree)</h2>

<pre><code>animals [cat, dog, elephant {big, gray}],
plants [deciduous   [oak, maple, baobab],
        other   [fir, cactus]
]
</code></pre>

<h2>
<a id="example-2-menu-for-some-imaginary-app" class="anchor" href="#example-2-menu-for-some-imaginary-app" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example #2 (menu for some imaginary app)</h2>

<pre><code>File [
    New, Open, Save,
    Remove {disabled}
    ],
View [
    Text [ANSI {default}, UTF-8],
    Binary,
    HTML
    ],
Help [On-line, Forum, About]
</code></pre>

<h2>
<a id="example-3-some-web-page-structure" class="anchor" href="#example-3-some-web-page-structure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example #3 (some Web page structure)</h2>

<pre><code>Header {height:10} [
    Welcome,
    Controls [Help Button, Search Pane]
    ],
Main [
    Teaser, News,
    Articles [1, 2, ..., N]
    ],
Footer [Status Bar [Info1, Info2], Powered By, Copyright notice {color: gold}]
</code></pre>

<h2>
<a id="example-4-contents-of-this-page" class="anchor" href="#example-4-contents-of-this-page" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example #4 (contents of this page)</h2>

<pre><code>Purposes of YOM language [
    blah-blah-blah
    ]

YOM by Examples [
    Example /#1 [blah-blah]
    Example /#2 [blah-blah]
    Example /#3 [blah]
    ]

And so on...
</code></pre>

<h1>
<a id="semi-formal-definition" class="anchor" href="#semi-formal-definition" aria-hidden="true"><span class="octicon octicon-link"></span></a>(Semi-)Formal Definition</h1>

<ul>
<li>Items (nodes) are delimited by ',' (comma) or \n (line feed)</li>
<li>Node may have optional set of named attributes (in curly brackets)</li>
<li>Node may have optional set (array) of subnodes (in square brackets)</li>
</ul>

<p>That's all!</p>

<p>Ah, yeah...</p>

<ul>
<li>Whitespace at the beginning and end of a node's string is ignored.<br>
Empty lines are ignored too.<br>
Use '{}' or '[]' to make the "empty node"<br>
</li>
<li>'/' (slash) is used for escaping. So '/x' makes to treat 'x' literally (ex: '/,' --&gt; ',' , '//' --&gt; '/' etc.)<br>
It's to allow commas and brackets be in the text.</li>
<li>Each attribute is a pair of the name and optional value. The name is separated from the value (if any) by ':' (colon) or '=' (equals sign).<br>
If attribute has no an explicit value (ex. <code>{gray, big}</code>) then it is implicitly equal to <em>true</em>.<br>
Attributes are delimited by ',' (comma)</li>
<li>Any of the symbols '\' | '+' | '-' may be used at the line end to make the line continuation.<br>
It allows multiline node texts.</li>
<li>Special symbol '#' (number sign | hash sign | octothorpe (!?)) is used for special processing:<br>
1) # comments; if there is a space blank after '#' then a subsequent node is entirely ignored. It allows to make comments in the source</li>
</ul>

<pre><code>Normal text # this is ignored to the end of line
Another text # inline comment, text continues/, but it's an another node
# [
   Multiline comment:
   2nd line,
   etc.
]
</code></pre>

<p>2) #&lt;name&gt;. The &lt;name&gt; should start with letter, '<em>' or '$' and continues with letter, digit, '</em>' or '$'. It adds the prop <code>"hash": {&lt;name&gt;: true}</code> to a subsequent node.</p>

<h1>
<a id="whats-in-the-result" class="anchor" href="#whats-in-the-result" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's in the result</h1>

<p>YOM parser converts YOM formatted text and returns the javascript object of the form:</p>

<pre><code>{
    hash: {"hash_name": true},    // if any
    text: "string",               // a text value of the node
    attr:   {a1: v1, a2: v2, ...}, // attributes of the node
    nodes: [{}, {}, ...]           // arrray of subnodes; each element is {label, attr, nodes} triplet;
                                   //   and so on, recursively
}
</code></pre>

<h1>
<a id="relation-to-other-data-formats" class="anchor" href="#relation-to-other-data-formats" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relation to other data formats</h1>

<p>YOM is based on <code>nested parentheses</code> idea by Sir <a href="https://en.wikipedia.org/wiki/Arthur_Cayley">Arthur Cayley</a><br>
Similar format is <a href="http://evolution.genetics.washington.edu/phylip/newicktree.html">The Newick tree format</a></p>

<h1>
<a id="q--a" class="anchor" href="#q--a" aria-hidden="true"><span class="octicon octicon-link"></span></a>Q &amp; A</h1>

<p><strong><em>Q:</em></strong> Why YOM? what it means?<br>
<strong><em>A:</em></strong> "do <strong>Y</strong>our <strong>O</strong>wn <strong>M</strong>odel"</p>

<p><strong><em>Q:</em></strong> Do you know that word 'Yom' has another <a href="http://en.wikipedia.org/wiki/Yom">meaning</a>?<br>
<strong><em>A:</em></strong> I realized it, but it was late. It's not by intention. It's just a coincidence. Really, I wrote YOM at night.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/al-scvorets/wm-yom-parse.js/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/al-scvorets/wm-yom-parse.js/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/al-scvorets/wm-yom-parse.js"></a> is maintained by <a href="https://github.com/al-scvorets">al-scvorets</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-62159731-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
