!function(e){var n="0.1.0",r=null,t=function(e){function n(e){function r(e){return o++,T++,e}var t=_.charAt(o);if(!t)return s._EOF;if(e)return r(t);if({"	":1,"\b":1,"\f":1,",":1}[t])return r(s._SEP);if("/"==t)return r(),n(!0);var a={"[":s._GROUP_START,"]":s._GROUP_ENF,"{":s._ATTR_START,"}":s._ATTR_END}[t];return a?r(a):"\r"==t?(o++,"\n"==_.charAt(o)&&o++,c++,T=1,s._SEP):"\n"==t?(o++,"\r"==_.charAt(o)&&o++,c++,T=1,s._SEP):r(t)}function t(e){r={msg:e,row:c,col:T-1}}function a(){function e(e){var n=e.split(/[:=]/,2);return{name:$.trim(n[0]),val:n[1]?$.trim(e.substr(n[0].length+1)):!0}}var r,a,l={},u="";do switch(r=n()){case s._EOF:t("Unexpected end of data"),r=null,l=null;break;case s._SEP:case s._ATTR_END:u&&u&&(a=e(u),a.name&&(l[a.name]=a.val),u=""),s._ATTR_END==r&&(r=null);break;case s._GROUP_START:t("Unexpected '['"),r=null,l=null;break;case s._GROUP_ENF:t("Unexpected ']'"),r=null,l=null;break;case s._ATTR_START:t("Unexpected '{'"),r=null,l=null;break;default:u+=r}while(r);return l}function l(e){var n={parent:e,label:"",nodes:[]};return e&&e.nodes.push(n),n}function u(){d.label=$.trim(d.label),d.label||d.attr||d.nodes.length||d.parent.nodes.pop()}var _=e,o=0,c=1,T=1;if(r=null,!e||"string"!=typeof e)return[];var i,s={_EOF:-1,_SEP:-2,_GROUP_START:-3,_GROUP_ENF:-4,_ATTR_START:-5,_ATTR_END:-6},f=l(null),d=l(f);do switch(i=n()){case s._EOF:i=0;break;case s._SEP:u(),d=l(d.parent);break;case s._GROUP_START:d=l(d);break;case s._GROUP_ENF:u(),d=d.parent,d||(t("Unexpected ']'"),i=null);break;case s._ATTR_START:d.attr=a(),d.attr||(i=null);break;case s._ATTR_END:t("Unexpected '}'"),i=null;break;default:d.label+=i}while(i);return f};t.last_error=function(){return r},t.version=n,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=t:(e.wmYomParse=t,"function"==typeof define&&define.amd&&define("wm-yom-parse",[],function(){return t}))}(window);